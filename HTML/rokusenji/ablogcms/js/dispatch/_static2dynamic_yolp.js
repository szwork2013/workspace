ACMS.Dispatch._static2dynamic_yolp=function(elm){function parseQuery(query){var s=query.split("&"),data={},i=0,iz=s.length,param,key,value;for(;i<iz;i++){param=s[i].split("=");if(param[0]!==void 0){key=param[0];value=decodeURIComponent(param[1]!==void 0?param.slice(1).join("="):key);data[key]=data[key]?Array.prototype.concat(data[key],value):value}}return data}function setLayer(ly){var layerSet=ly;switch(ly){case "map":layerSet=YMap.setLayerSet(Y.LayerSetId.NORMAL);break;case "photo":layerSet=YMap.setLayerSet(Y.LayerSetId.PHOTO);
break;case "map-b1":layerSet=YMap.setLayerSet(Y.LayerSetId.B1);break;case "railway":layerSet="MyRailwaySet";break;case "monotone":layerSet="MyMonotoneSet";break;case "bold":layerSet="MyBoldSet";break;case "midnight":layerSet="MyRMidnightSet";break;default:YMap.setLayerSet(Y.LayerSetId.NORMAL);break}YMap.setLayerSet(layerSet)}var query=parseQuery(elm.src.replace(/^[^?]*\?/,""));var msgs=elm.alt;width=query.width,height=query.height;var $div=$('<div class="'+elm.className+'"></div>').css({width:width+
"px",height:height+"px",overflow:"hidden"});$(elm).replaceWith($div);var lat=query.lat,lng=query.lon,zoom=parseInt(query.z,10),layer=query.style.split(":")[1];YMap=new Y.Map($div.get(0),{configure:{doubleClickZoom:true,continuousZoom:true}});var railwayLayer=new Y.StyleMapLayer("railway");var monotoneLayer=new Y.StyleMapLayer("monotone");var boldLayer=new Y.StyleMapLayer("bold");var midnightLayer=new Y.StyleMapLayer("midnight");var railwaySet=new Y.LayerSet("\u8def\u7dda\u56f3",[railwayLayer]);YMap.addLayerSet("MyRailwaySet",
railwaySet);var monotoneSet=new Y.LayerSet("\u30e2\u30ce\u30c8\u30fc\u30f3",[monotoneLayer]);YMap.addLayerSet("MyMonotoneSet",monotoneSet);var boldSet=new Y.LayerSet("\u30dc\u30fc\u30eb\u30c9",[boldLayer]);YMap.addLayerSet("MyBoldSet",boldSet);var midnightSet=new Y.LayerSet("\u30df\u30c3\u30c9\u30ca\u30a4\u30c8",[midnightLayer]);YMap.addLayerSet("MyRMidnightSet",midnightSet);YMap.addControl(new Y.SliderZoomControlVertical);YMap.addControl(new Y.ScaleControl);if(ACMS.Config.yolpLayerSet=="on")YMap.addControl(new Y.LayerSetControl);
YMap.drawMap(new Y.LatLng(lat,lng),zoom,Y.LayerSetId.NORMAL);var initLayer=query.mode;if(layer)initLayer=layer;setLayer(initLayer);var marker=new Y.Marker(new Y.LatLng(lat,lng));YMap.addFeature(marker);var content=msgs.replace(/\[\[:quot:\]\]/igm,'"').replace(/\[\[:lt:\]\]/igm,"<").replace(/\[\[:gt:\]\]/igm,">").replace(/\[\[:amp:\]\]/igm,"&")};
